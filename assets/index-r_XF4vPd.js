import{U as h,Y as d,$ as _,X as t,L as e,V as k,ao as x,ag as u,ai as s,ap as y,aq as S,ar as w,G as g,c as v,as as T,W as b,_ as E,O as L,M as B,ak as M}from"./index-B1aakBra.js";import{V as p,a as N,b as C}from"./route-block-m18Oa0ds.js";import{V as U}from"./VPagination-CwlMFSTT.js";import{V as $}from"./VContainer-CzdA3Bnu.js";const A={__name:"ProductCard",props:{_id:{type:String,default:""},name:{type:String,default:""},price:{type:Number,default:0},image:{type:String,default:""},description:{type:String,default:""},category:{type:String,default:""}},setup(a){return(c,o)=>{const i=h("router-link");return d(),_(w,null,{default:t(()=>[e(k,{src:a.image,height:"200",cover:""},null,8,["src"]),e(x,null,{default:t(()=>[e(i,{to:"/product/"+a._id},{default:t(()=>[u(s(a.name),1)]),_:1},8,["to"])]),_:1}),e(y,null,{default:t(()=>[u(s(c.$t("productCategory."+a.category)),1)]),_:1}),e(y,null,{default:t(()=>[u(s(a.price),1)]),_:1}),e(S,null,{default:t(()=>[u(s(a.description),1)]),_:1})]),_:1})}}},V=2,F={__name:"index",setup(a){const{api:c}=M(),o=g(1),i=v(()=>Math.ceil(m.value.length/V)),m=g([]),f=g(""),P=v(()=>m.value.filter(l=>l.name.toLowerCase().includes(f.value.toLowerCase())).slice((o.value-1)*V,o.value*V));return(async()=>{try{const{data:l}=await c.get("/product");m.value.push(...l.result)}catch(l){console.log(l)}})(),(l,n)=>(d(),_($,null,{default:t(()=>[e(N,null,{default:t(()=>[e(p,{cols:"12"},{default:t(()=>[e(T,{modelValue:f.value,"onUpdate:modelValue":n[0]||(n[0]=r=>f.value=r),"prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"])]),_:1}),(d(!0),b(L,null,E(P.value,r=>(d(),_(p,{key:r._id,cols:"12",md:"6",lg:"3"},{default:t(()=>[e(A,B({ref_for:!0},r),null,16)]),_:2},1024))),128)),e(p,{cols:"12"},{default:t(()=>[e(U,{modelValue:o.value,"onUpdate:modelValue":n[1]||(n[1]=r=>o.value=r),length:i.value},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1}))}};typeof C=="function"&&C(F);export{F as default};
